(this.webpackJsonptest_web_home=this.webpackJsonptest_web_home||[]).push([[0],{132:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(9),r=n.n(o),i=(n(132),n(74)),s=n.n(i),l=n(112),u=n(77),j=n(292),d=n(288),h=n(293),m=n(62),b=n(122),p=n.n(b),f=n(6),O=m.a({name:m.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"),text:m.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")});function x(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(f.jsx)(u.b,{validationSchema:O,initialValues:{name:"",text:""},onSubmit:function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.resetForm,fetch("https://jordan.ashton.fashion/api/goods/30/comments",{method:"POST",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),a();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(f.jsxs)(u.a,{onSubmit:a,className:"formCommentsWrapper",children:[Object(f.jsx)(j.a,{onChange:n,name:"name",placeholder:"\u0418\u043c\u044f",value:t.name}),Object(f.jsx)(d.a,{"aria-label":"empty textarea",onChange:n,name:"text",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:t.text,style:{outline:"none",border:"1px rgba(245, 0, 87, 0.5) solid",padding:10,borderRadius:4,fontFamily:"Lato","&::placeholder":{fontFamily:"Lato"}}}),Object(f.jsxs)(h.a,{type:"submit",variant:"outlined",color:"secondary",children:["\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c ",Object(f.jsx)(p.a,{style:{fontSize:15}})]})]})}})]})}var g=n(18),v=n(76),y=n.n(v);function C(e){for(var t=e.commentsPerPage,n=e.totalComments,a=e.paginate,c=[],o=1;o<=Math.ceil(n/t);o++)c.push(o);return Object(f.jsx)("ul",{className:"paginationWrapper",children:c.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(e){return a(e.target.textContent)},children:e})},e)}))})}function S(){var e=Object(a.useState)([]),t=Object(g.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1),r=Object(g.a)(o,2),i=r[0],s=r[1],l=Object(a.useState)(5),u=Object(g.a)(l,1)[0],j=Object(a.useState)(1),d=Object(g.a)(j,2),m=d[0],b=d[1];Object(a.useEffect)((function(){(function(e){var t=e.currentPage,n=void 0===t?1:t;return y.a.get("https://jordan.ashton.fashion/api/goods/30/comments?page=".concat(n)).then((function(e){return e.data.data}))})({currentPage:i}).then((function(e){c(e)})).catch(console.log())}),[i]),Object(a.useEffect)((function(){y.a.get("https://jordan.ashton.fashion/api/goods/30/comments").then((function(e){return b(e.data.total)}))}),[]),console.log(n);var p=i*u,O=p-u;n.slice(O,p);return Object(f.jsxs)("div",{className:"CommentsWrapper",children:[Object(f.jsx)("h1",{children:"Comments"}),Object(f.jsx)("ul",{children:n&&n.map((function(e){var t,n=e.name,a=e.text,c=e.created_at,o=e.id;return Object(f.jsxs)("li",{children:[Object(f.jsx)("h2",{className:"name",children:n}),Object(f.jsx)("p",{className:"message",children:a}),Object(f.jsx)("p",{className:"data",children:(t=c,new Date(t).toLocaleString("ru",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]},o)}))}),Object(f.jsx)(h.a,{onClick:function(){s((function(e){return+e+1}))},variant:"contained",color:"secondary",style:{margin:"60px auto 10px auto",display:"block"},children:"load more"}),Object(f.jsx)(C,{commentsPerPage:u,totalComments:m,paginate:function(e){return s(e)}})]})}var P=function(){return Object(f.jsxs)("main",{children:[Object(f.jsx)(x,{}),Object(f.jsx)(S,{})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,295)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(P,{})}),document.getElementById("root")),w()}},[[260,1,2]]]);
//# sourceMappingURL=main.22e5cb43.chunk.js.map