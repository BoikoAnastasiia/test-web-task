(this.webpackJsonptest_web_home=this.webpackJsonptest_web_home||[]).push([[0],{132:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),i=(n(132),n(74)),s=n.n(i),l=n(111),u=n(76),d=n(292),j=n(288),h=n(293),m=n(62),b=n(121),p=n.n(b),f=n(6),g=m.a({name:m.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"),text:m.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")});function x(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(f.jsx)(u.b,{validationSchema:g,initialValues:{name:"",text:""},onSubmit:function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.resetForm,fetch("https://jordan.ashton.fashion/api/goods/30/comments",{method:"POST",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),a();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(f.jsxs)(u.a,{onSubmit:a,className:"formCommentsWrapper",children:[Object(f.jsx)(d.a,{onChange:n,name:"name",placeholder:"\u0418\u043c\u044f",value:t.name}),Object(f.jsx)(j.a,{"aria-label":"empty textarea",onChange:n,name:"text",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:t.text,style:{outline:"none",border:"1px rgba(245, 0, 87, 0.5) solid",padding:10,borderRadius:4,fontFamily:"Lato","&::placeholder":{fontFamily:"Lato"}}}),Object(f.jsxs)(h.a,{type:"submit",variant:"outlined",color:"secondary",children:["\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c ",Object(f.jsx)(p.a,{style:{fontSize:15}})]})]})}})]})}var O=n(20),v=n(122),y=n.n(v);function C(e){for(var t=e.commentsPerPage,n=e.totalComments,a=e.paginate,c=[],r=1;r<=Math.ceil(n/t);r++)c.push(r);return Object(f.jsx)("ul",{className:"paginationWrapper",children:c.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(){return a(e)},children:e})},e)}))})}function S(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),o=Object(O.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(5),u=Object(O.a)(l,1)[0];Object(a.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currentPage,n=void 0===t?1:t,a=e.pageSize,c=void 0===a?5:a;return y.a.get("https://jordan.ashton.fashion/api/goods/30/comments?per_page=".concat(c,"?page=").concat(n)).then((function(e){return e.data.data}))})({currentPage:i}).then((function(e){c(e)})).catch(console.log())}),[i]);var d=i*u,j=d-u,m=n.slice(j,d);console.log(m);return Object(f.jsxs)("div",{className:"CommentsWrapper",children:[Object(f.jsx)("h1",{children:"Comments"}),Object(f.jsx)("ul",{children:m&&m.map((function(e){var t,n=e.name,a=e.text,c=e.created_at,r=e.id;return Object(f.jsxs)("li",{children:[Object(f.jsx)("h2",{className:"name",children:n}),Object(f.jsx)("p",{className:"message",children:a}),Object(f.jsx)("p",{className:"data",children:(t=c,new Date(t).toLocaleString("ru",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]},r)}))}),Object(f.jsx)(h.a,{onClick:function(){s((function(e){return e+1}))},variant:"contained",color:"secondary",style:{margin:"60px auto 10px auto",display:"block"},children:"load more"}),Object(f.jsx)(C,{commentsPerPage:u,totalComments:n.length,paginate:function(e){return s(e)}})]})}var P=function(){return Object(f.jsxs)("main",{children:[Object(f.jsx)(x,{}),Object(f.jsx)(S,{})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,295)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(P,{})}),document.getElementById("root")),w()}},[[260,1,2]]]);
//# sourceMappingURL=main.8dca1a8f.chunk.js.map